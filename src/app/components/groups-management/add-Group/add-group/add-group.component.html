<form #f="ngForm" (ngSubmit)="addGroup()">
  <div class="form-group">
    <label for="name" class="form-label mt-2">Name</label>
    <input type="text" class="form-control" name="name" [(ngModel)]="group.name" required minlength="3" #title="ngModel">
    <div *ngIf="title.invalid && title.touched" class="text-danger">
      <div *ngIf="title.errors?.['required']">
        Name is required.
      </div>
      <div *ngIf="title.errors?.['minlength']">
        Name must be at least 3 characters.
      </div>
    </div>
  </div>

  <div class="form-group" formArrayName="activities">
    <div *ngFor="let activity of activities.controls; let i = index" class="mb-4">
      <h3>Activity {{ i + 1 }}</h3>
      <div class="form-group">
        <label for="activityName">Activity Name</label>
        <input type="text" class="form-control" id="activityName" formControlName="{{i}}.name" required>
        <div *ngIf="activity.get('name')!.invalid && activity.get('name')!.touched" class="text-danger">
          <div *ngIf="activity.get('name')!.errors?.['required']">
            Activity name is required.
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="activityDescription">Activity Description</label>
        <input type="text" class="form-control" id="activityDescription" formControlName="{{i}}.description" required>
        <div *ngIf="activity.get('description')!.invalid && activity.get('description')!.touched" class="text-danger">
          <div *ngIf="activity.get('description')!.errors?.['required']">
            Activity description is required.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div>
    <button type="button" class="btn btn-secondary mb-4" (click)="addActivity()">Add Activity</button>
  </div>

  <button type="submit" class="btn btn-primary mt-2" [disabled]="f.invalid">Add</button>
</form>
